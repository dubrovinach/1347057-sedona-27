var link=document.querySelector(".interested__button"),popup=document.querySelector(".form"),checkin=popup.querySelector("[name=checkin]"),checkout=popup.querySelector("[name=checkout]"),adults=popup.querySelector("[name=adults]"),child=popup.querySelector("[name=child]"),isStorageSupport=!0,storageAdults="",storageChild="";try{storageAdults=localStorage.getItem("adults"),storageChild=localStorage.getItem("child")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("form--hidden"),popup.classList.remove("form--error"),popup.classList.toggle("form--show"),checkin.focus(),storageAdults&&(adults.value=storageAdults),storageChild&&(child.value=storageChild)}),popup.addEventListener("submit",function(e){checkin.value&&checkout.value&&adults.value&&child.value||(e.preventDefault(),popup.classList.remove("form--error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("form--error"),checkout.value?adults.value?child.focus():adults.focus():(checkout.focus(),checkin.value||checkin.focus()))}),adults.addEventListener("input",function(e){localStorage.setItem("adults",e.target.value)}),child.addEventListener("input",function(e){localStorage.setItem("child",e.target.value)}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("form--show")&&(e.preventDefault(),popup.classList.add("form--hidden"),popup.classList.remove("form--error"))});
